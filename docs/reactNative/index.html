<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Native介绍 | Zachary</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="前端学习笔记">
    
    <link rel="preload" href="/Zachary/assets/css/0.styles.0da7e08b.css" as="style"><link rel="preload" href="/Zachary/assets/js/app.f1e82e99.js" as="script"><link rel="preload" href="/Zachary/assets/js/2.e55477fd.js" as="script"><link rel="preload" href="/Zachary/assets/js/11.47e52921.js" as="script"><link rel="prefetch" href="/Zachary/assets/js/10.d282350d.js"><link rel="prefetch" href="/Zachary/assets/js/12.883931d6.js"><link rel="prefetch" href="/Zachary/assets/js/13.6fdc3e82.js"><link rel="prefetch" href="/Zachary/assets/js/14.0c158d85.js"><link rel="prefetch" href="/Zachary/assets/js/15.6a2a9573.js"><link rel="prefetch" href="/Zachary/assets/js/16.fac896a5.js"><link rel="prefetch" href="/Zachary/assets/js/17.dbfc8abe.js"><link rel="prefetch" href="/Zachary/assets/js/18.734aa6fb.js"><link rel="prefetch" href="/Zachary/assets/js/19.4bd4acac.js"><link rel="prefetch" href="/Zachary/assets/js/20.936beab2.js"><link rel="prefetch" href="/Zachary/assets/js/21.c8401ded.js"><link rel="prefetch" href="/Zachary/assets/js/22.038ad858.js"><link rel="prefetch" href="/Zachary/assets/js/23.2388b13b.js"><link rel="prefetch" href="/Zachary/assets/js/24.23801cca.js"><link rel="prefetch" href="/Zachary/assets/js/25.53f0d7e5.js"><link rel="prefetch" href="/Zachary/assets/js/26.b452cb69.js"><link rel="prefetch" href="/Zachary/assets/js/27.4a4d5aa8.js"><link rel="prefetch" href="/Zachary/assets/js/28.09691b56.js"><link rel="prefetch" href="/Zachary/assets/js/29.15bae201.js"><link rel="prefetch" href="/Zachary/assets/js/3.344c53d3.js"><link rel="prefetch" href="/Zachary/assets/js/30.6cf596c4.js"><link rel="prefetch" href="/Zachary/assets/js/31.ad2f060a.js"><link rel="prefetch" href="/Zachary/assets/js/32.1753aef2.js"><link rel="prefetch" href="/Zachary/assets/js/33.38829d80.js"><link rel="prefetch" href="/Zachary/assets/js/34.22401f26.js"><link rel="prefetch" href="/Zachary/assets/js/35.f5d59383.js"><link rel="prefetch" href="/Zachary/assets/js/36.8685b84f.js"><link rel="prefetch" href="/Zachary/assets/js/37.3eb6b837.js"><link rel="prefetch" href="/Zachary/assets/js/38.02ac8a67.js"><link rel="prefetch" href="/Zachary/assets/js/39.0a5cf80d.js"><link rel="prefetch" href="/Zachary/assets/js/4.74f6a04d.js"><link rel="prefetch" href="/Zachary/assets/js/40.9cc60635.js"><link rel="prefetch" href="/Zachary/assets/js/41.c3632434.js"><link rel="prefetch" href="/Zachary/assets/js/42.55577b74.js"><link rel="prefetch" href="/Zachary/assets/js/43.5a6375a0.js"><link rel="prefetch" href="/Zachary/assets/js/44.6e8746c3.js"><link rel="prefetch" href="/Zachary/assets/js/45.43b0a62f.js"><link rel="prefetch" href="/Zachary/assets/js/46.6a30783f.js"><link rel="prefetch" href="/Zachary/assets/js/47.e2a927db.js"><link rel="prefetch" href="/Zachary/assets/js/48.53d12d27.js"><link rel="prefetch" href="/Zachary/assets/js/49.ec968d3c.js"><link rel="prefetch" href="/Zachary/assets/js/5.dfe6aeb3.js"><link rel="prefetch" href="/Zachary/assets/js/50.253ec384.js"><link rel="prefetch" href="/Zachary/assets/js/51.37586d14.js"><link rel="prefetch" href="/Zachary/assets/js/52.8688d1fb.js"><link rel="prefetch" href="/Zachary/assets/js/53.093e36b4.js"><link rel="prefetch" href="/Zachary/assets/js/54.867fb397.js"><link rel="prefetch" href="/Zachary/assets/js/55.f6846f1a.js"><link rel="prefetch" href="/Zachary/assets/js/56.6c71762c.js"><link rel="prefetch" href="/Zachary/assets/js/57.6c5505d3.js"><link rel="prefetch" href="/Zachary/assets/js/58.8d080161.js"><link rel="prefetch" href="/Zachary/assets/js/59.9e5af5fb.js"><link rel="prefetch" href="/Zachary/assets/js/6.c9501b97.js"><link rel="prefetch" href="/Zachary/assets/js/60.9684f671.js"><link rel="prefetch" href="/Zachary/assets/js/61.5670092d.js"><link rel="prefetch" href="/Zachary/assets/js/62.4a503f2b.js"><link rel="prefetch" href="/Zachary/assets/js/63.1218ff38.js"><link rel="prefetch" href="/Zachary/assets/js/7.c9f43313.js"><link rel="prefetch" href="/Zachary/assets/js/8.d6448e84.js"><link rel="prefetch" href="/Zachary/assets/js/9.84f4ae72.js">
    <link rel="stylesheet" href="/Zachary/assets/css/0.styles.0da7e08b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Zachary/" class="home-link router-link-active"><img src="/Zachary/assets/img/logo.jpg" alt="Zachary" class="logo"> <span class="site-name can-hide">Zachary</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Zachary/reactNative/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="babel" class="dropdown-title"><span class="title">babel</span> <span class="arrow down"></span></button> <button type="button" aria-label="babel" class="mobile-dropdown-title"><span class="title">babel</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Zachary/babel/" class="nav-link">
  概览
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/integration/" class="nav-link">
  集成
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/presets/" class="nav-link">
  Presets
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/user/" class="nav-link">
  Babel 用户手册
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/plugin/" class="nav-link">
  Babel 插件手册
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webpack" class="dropdown-title"><span class="title">webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="webpack" class="mobile-dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Zachary/webpack/" class="nav-link">
  概览
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/webpack/source/" class="nav-link">
  原理分析
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/webpack/diff2rollup/" class="nav-link">
  同中有异的Rollup
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Zachary-alt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Zachary/reactNative/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="babel" class="dropdown-title"><span class="title">babel</span> <span class="arrow down"></span></button> <button type="button" aria-label="babel" class="mobile-dropdown-title"><span class="title">babel</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Zachary/babel/" class="nav-link">
  概览
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/integration/" class="nav-link">
  集成
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/presets/" class="nav-link">
  Presets
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/user/" class="nav-link">
  Babel 用户手册
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/babel/plugin/" class="nav-link">
  Babel 插件手册
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webpack" class="dropdown-title"><span class="title">webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="webpack" class="mobile-dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Zachary/webpack/" class="nav-link">
  概览
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/webpack/source/" class="nav-link">
  原理分析
</a></li><li class="dropdown-item"><!----> <a href="/Zachary/webpack/diff2rollup/" class="nav-link">
  同中有异的Rollup
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Zachary-alt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React Native介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Zachary/reactNative/#react-native介绍" class="sidebar-link">React Native介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#react-native优缺点" class="sidebar-link">React Native优缺点：</a></li></ul></li><li><a href="/Zachary/reactNative/#构建项目" class="sidebar-link">构建项目</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Zachary/reactNative/#rn调试技巧" class="sidebar-link">RN调试技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#developer-menu" class="sidebar-link">Developer Menu</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#reload" class="sidebar-link">Reload</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#enable-live-reload" class="sidebar-link">Enable Live Reload</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#errors-and-warnings" class="sidebar-link">Errors and Warnings</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#errors" class="sidebar-link">Errors</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#warnings" class="sidebar-link">Warnings</a></li></ul></li><li><a href="/Zachary/reactNative/#rn布局与样式" class="sidebar-link">RN布局与样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#像素无关" class="sidebar-link">像素无关</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#和而不同" class="sidebar-link">和而不同</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#flex-in-rn" class="sidebar-link">Flex in RN</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#样式" class="sidebar-link">样式</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#rn核心组件与api" class="sidebar-link">RN核心组件与API</a></li></ul></li><li><a href="/Zachary/reactNative/#常用组件介绍" class="sidebar-link">常用组件介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#button" class="sidebar-link">Button</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#activityindicator" class="sidebar-link">ActivityIndicator</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#image" class="sidebar-link">Image</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#在-android-上支持-gif-和-webp-格式图片" class="sidebar-link">在 Android 上支持 GIF 和 WebP 格式图片</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#safeareaview" class="sidebar-link">SafeAreaView</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#text" class="sidebar-link">Text</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#textinput" class="sidebar-link">TextInput</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#view" class="sidebar-link">View</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#webview" class="sidebar-link">WebView</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#listview" class="sidebar-link">ListView</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#virtualizedlist" class="sidebar-link">VirtualizedList</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#flatlist" class="sidebar-link">FlatList</a></li></ul></li><li><a href="/Zachary/reactNative/#常用api介绍" class="sidebar-link">常用API介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#dimensions" class="sidebar-link">Dimensions</a></li><li class="sidebar-sub-header"><a href="/Zachary/reactNative/#platform" class="sidebar-link">Platform</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="react-native介绍"><a href="#react-native介绍" class="header-anchor">#</a> React Native介绍</h2> <p>React Naitve的简介：Facebook在React.js Conf2015大会上推出的⼀个用于开发Android和iOS App的</p> <p>⼀个框架，主要编程语言是JavaScript。它的出现使用即拥有<strong>Native</strong>的用户体验，又保留<strong>React</strong>的开发</p> <p>效率。</p> <p>在 React Native 出现前，我们通常会选择这三种移动技术（Native App、HTML5、Hybrid）之⼀进行</p> <p>开发。</p> <ul><li>Native App ：开发原生应用自然性能最好，功能强大。但多平台版本的开发、维护要花费大量的人力物力(iOS版本迭代审核需要时间)。</li> <li>HTML5 ：虽然有 Web 的优势，即灵活的布局能力、免发版的敏捷迭代潜力、优秀的跨平台特性。 在新闻资讯等⼀些强排版、弱交互的展示类 App 上大展拳脚。但由于 WebView 在移动设备上的性能制约，始终难成大器。</li> <li>Hybrid App ：JS+Native两者相互调用为主，从开发层面实现“⼀次开发，多处运行”的机制，成为真正适合跨平台的开发。Hybrid App兼具了Native App良好用户体验的优势，也兼具了Web App使用HTML5跨平台开发低成本的优势，但是这个方法存在诸多问题：无法访问离线数据、无法访问设备、无法远程更新。</li> <li>React Native ：底层引擎是 JavaScript Core，但调用的是原生的组件而非 HTML5 组件。这样运行时可以做到与 Navive App 相媲美的性能体验，同时因为 JavaScript 代码可以使用后端强大的Web 方式管理，既可以做到高效开发，也可以实现快速部署和问题热修复。</li></ul> <h3 id="react-native优缺点"><a href="#react-native优缺点" class="header-anchor">#</a> React Native优缺点：</h3> <p><strong>优点</strong></p> <ol><li><p>跨平台开发：运用React Native，我们可以使用同⼀份业务逻辑核心代码来创建原生应用运行在Web端，Android端和iOS端；</p></li> <li><p>追求极致的用户体验：实时热部署；</p></li> <li><p>learn once,write everywhere：React Native不强求⼀份原生代码支持多个平台，所以不是write,once,run anywhere；</p></li></ol> <p><strong>缺点</strong></p> <ol><li>react native在iOS上仅支持 iOS7 以上，Android仅支持 Android4.1 以上；</li> <li>开发成本较高；</li> <li>部分复杂的界面和操作，RN无法实现(可以考虑原生+React Native混合开发)；</li></ol> <p><strong>React Native vs Flutter vs Weex</strong></p> <img src="/Zachary/assets/img/diff.bdd6d45a.png" alt="1604728604168" style="zoom:80%;"> <h2 id="构建项目"><a href="#构建项目" class="header-anchor">#</a> 构建项目</h2> <ol><li><p>在相应的路径下执行命令行： react-native init 项目名 (名称不可使用连接符等特殊字符,命名 可以参考APP应用名称 比如 FaceBook)</p></li> <li><p>跳转到对应路径下执行相应的移动端项目：</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>cd 项目名
react-native run-ios or react-native run-android
</code></pre></div><h2 id="rn调试技巧"><a href="#rn调试技巧" class="header-anchor">#</a> RN调试技巧</h2> <h3 id="developer-menu"><a href="#developer-menu" class="header-anchor">#</a> <strong>Developer Menu</strong></h3> <p>Developer Menu是React Native给开发者定制的⼀个开发者菜单，来帮助开发者调试React Native应 用。</p> <p>在模拟器上开启<strong>Developer Menu</strong></p> <h4 id="android模拟器"><a href="#android模拟器" class="header-anchor">#</a> Android模拟器：</h4> <p>可以通过 <code>Command⌘ + M</code> 快捷键来快速打开Developer Menu。也可以通过模拟器上的菜单键来打开。</p> <blockquote><p>心得：高版本的模拟器通常没有菜单键的，不过Nexus S上是有菜单键的，如果想使用菜单键，可以创建⼀个Nexus S的模拟器。</p></blockquote> <h4 id="ios模拟器"><a href="#ios模拟器" class="header-anchor">#</a> iOS模拟器：</h4> <p>可以通过 <code>Command⌘ + D</code> 快捷键来快速打开Developer Menu。</p> <h3 id="reload"><a href="#reload" class="header-anchor">#</a> Reload</h3> <p>Reload 选项，单击 Reload 让React Native重新加载js。对于iOS模拟器你也可以通过 <code>Command⌘ + R</code> 快捷键来加载js，对于Android模拟器可以通过双击 r 键来加载js。</p> <blockquote><p>提示：如果 <code>Command⌘ + R</code> 无法使你的iOS模拟器加载js，则可以通过选中Hardware menu中Keyboard选项下的 “Connect Hardware Keyboard” 。</p></blockquote> <h3 id="enable-live-reload"><a href="#enable-live-reload" class="header-anchor">#</a> Enable Live Reload</h3> <p>该选项提供了React Native动态加载的功能。当你的js代码发生变化后，React Native会自动生成bundle然后传输到模拟器或手机上</p> <h3 id="errors-and-warnings"><a href="#errors-and-warnings" class="header-anchor">#</a> Errors and Warnings</h3> <p>在development模式下，js部分的Errors 和 Warnings会直接打印在手机或模拟器屏幕上，以红屏和⻩屏展示。</p> <h3 id="errors"><a href="#errors" class="header-anchor">#</a> Errors</h3> <p>React Native程序运行时出现的Errors会被直接显示在屏幕上，以红⾊的背景显示，并会打印出错误信</p> <p>息。 你也可以通过 <code>console.error()</code> 来手动触发Errors。</p> <h3 id="warnings"><a href="#warnings" class="header-anchor">#</a> Warnings</h3> <p>React Native程序运行时出现的Warnings也会被直接显示在屏幕上，以⻩⾊的背景显示，并会打印出警 告信息。 你也可以通过 <code>console.warn()</code> 来手动触发Warnings。 你也可以通过 <code>console.disableYellowBox = true</code> 来手动禁用Warnings的显示，或者通过 <code>console.ignoredYellowBox = ['Warning: ...'];</code> 来忽略相应的Warning</p> <h2 id="rn布局与样式"><a href="#rn布局与样式" class="header-anchor">#</a> <strong>RN</strong>布局与样式</h2> <p>⼀款好的App离不开漂亮的布局，RN中的布局方式采用的是FlexBox(弹性布局)</p> <p>FlexBox提供了在不通尺⼨设备上都能保持⼀致的布局方式</p> <h3 id="像素无关"><a href="#像素无关" class="header-anchor">#</a> 像素无关</h3> <p>在RN中尺⼨是没有单位的，它代表的是设备独⽴像素</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>height<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>margin<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>backgroundColor<span class="token operator">:</span><span class="token string">'gray'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>fontSize<span class="token operator">:</span><span class="token number">16</span><span class="token punctuation">,</span>margin<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">尺⼨</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上述代码，运行在Android上时，View的⻓宽被解释成：100dp 100dp，字体被解释成16sp，运行在ios上时尺⼨单位被解释成pt,这些单位确保了布局在任何不通DPI的手机屏幕上，显示效果⼀致</p> <h3 id="和而不同"><a href="#和而不同" class="header-anchor">#</a> 和而不同</h3> <p>RN中FlexBox和Web Css上FlexBox工作方式是⼀样的，但有些地方还是有出入的</p> <ul><li><p>flexDirection:（主轴方向）</p> <p>​	RN中默认是flexDirection:'column',Web Css中默认是 flex-direction:'row'</p></li> <li><p>alignItems:（在交叉轴上的对⻬方式）</p> <p>​	RN中默认alignItems: 'stretch',在Web Css中默认 align-items:'flex-start'</p></li> <li><p>flex:</p> <p>​	RN中只接受⼀个属性，Web css 可以接受多个属性：flex: 2 2 10%</p> <p>​	不支持的属性： align-content flex-basis order flex-flow flex-grow flex-shrink</p></li></ul> <h3 id="flex-in-rn"><a href="#flex-in-rn" class="header-anchor">#</a> Flex in RN</h3> <p>以下属性是RN所支持的Flex属性</p> <ul><li><p>容器属性</p> <p>​	flexDirection: row | column| row-reverse | column-reverse</p> <p>​	flexWrap: wrap | noWrap</p> <p>​	justifyContent: flex-start | flex-end | center | space-between | space-around</p> <p>​	alignItems: flex-start | flex-end | center | stretch</p></li> <li><p>项目属性</p> <p>​	alignSelf</p> <p>​	stretch</p> <p>​	center</p> <p>​	flex-start</p> <p>​	flex-end</p></li></ul> <p>flex:定义了⼀个元素可伸缩的能力，默认是0</p> <h3 id="样式"><a href="#样式" class="header-anchor">#</a> 样式</h3> <p>在RN中样式 需要引入StyleSheet API</p> <p>写法⼀：</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 container<span class="token operator">:</span><span class="token punctuation">{</span>
 <span class="token operator">...</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>组件内写法：</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>backgroundColor<span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">//or</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">,</span><span class="token punctuation">{</span>backgroundCorlor<span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="rn核心组件与api"><a href="#rn核心组件与api" class="header-anchor">#</a> RN核心组件与API</h3> <p>在RN中使用原生组件，是依赖React的，所以在使用过程中需要导入react</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Platform<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-native&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="常用组件介绍"><a href="#常用组件介绍" class="header-anchor">#</a> 常用组件介绍</h2> <h3 id="button"><a href="#button" class="header-anchor">#</a> Button</h3> <p>⼀个简单的跨平台的按钮组件。可以进行⼀些简单的定制。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span>Button
 onPress<span class="token operator">=</span><span class="token punctuation">{</span>onPressLearnMore<span class="token punctuation">}</span> <span class="token comment">//用户点击此按钮时所调用的处理函数</span>
 title<span class="token operator">=</span><span class="token string">&quot;Learn More&quot;</span> <span class="token comment">//按钮按钮内显示的文本</span>
 color<span class="token operator">=</span><span class="token string">&quot;#841584&quot;</span> <span class="token comment">//文本的颜⾊(iOS)，或是按钮的背景⾊(Android)</span>
 disabled<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token comment">//按钮是否可以点击</span>
 accessibilityLabel<span class="token operator">=</span><span class="token string">&quot;Learn more about this purple button&quot;</span> <span class="token comment">//用于给残障人⼠显示的文本（比如读屏应用可能会读取这⼀内容</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="activityindicator"><a href="#activityindicator" class="header-anchor">#</a> ActivityIndicator</h3> <p>显示⼀个圆形的 loading 提示符号。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">,</span> styles<span class="token punctuation">.</span>horizontal<span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
 &lt;ActivityIndicator
 size=&quot;large&quot; //指示器的大小，默认为'small'[enum('small', 'large'), number]。目前只能在 Android 上设定具体的数值
 animating=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token plain-text"> //是否要显示指示器动画，默认为 true 表示显示，false 则隐藏。
 hidesWhenStopped=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token plain-text"> //在animating为 false 的时候，是否要隐藏指示器（默认为true）。如果animating和hidesWhenStopped都为 false，则显示⼀个静止的指示器。
 color=&quot;#0000ff&quot; //滚轮的前景颜⾊（默认为灰⾊）。
 /&gt;
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="image"><a href="#image" class="header-anchor">#</a> Image</h3> <p>用于显示多种不同类型图片的 React 组件，包括网络图片、静态资源、临时的本地图片、以及本地磁盘上的图片（如相册）等。</p> <p>下面的例子分别演示了如何显示从本地缓存、网络甚至是以 'data:' 的 base64 uri 形式提供的图片。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Image</span></span>
 <span class="token attr-name">source</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'/react-native/img/favicon.png'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
<span class="token operator">&lt;</span>Image
 style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
 <span class="token comment">//网络和 base64 数据的图片需要手动指定尺⼨</span>
 source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>uri<span class="token operator">:</span> <span class="token string">'https://facebook.github.io/react-native/docs/assets/favicon.png'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Image
 style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token number">66</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">58</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
 <span class="token comment">//网络和 base64 数据的图片需要手动指定尺⼨</span>
 source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>uri<span class="token operator">:</span><span class="token string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAAEXRFWHRTb2Z0d2FyZQBwbmdjcnVzaEB1SfMAAABQSURBVGje7dSxCQBACARB+2/ab8BEeQNhFi6WSYzYLYudDQYGBgYGBgYGBgYGBgYGBgZmcvDqYGBgmhivGQYGBgYGBgYGBgYGBgYGBgbmQw+P/eMrC5UTVAAAAABJRU5ErkJggg=='</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="在-android-上支持-gif-和-webp-格式图片"><a href="#在-android-上支持-gif-和-webp-格式图片" class="header-anchor">#</a> 在 Android 上支持 GIF 和 WebP 格式图片</h3> <blockquote><p>默认情况下 Android 是不支持 GIF 和 WebP 格式的。你需要在 android/app/build.gradle 文件中根据需要手动添加以下模块：</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>dependencies <span class="token punctuation">{</span>
 <span class="token comment">// 如果你需要支持Android4.0(API level 14)之前的版本</span>
 compile <span class="token string">'com.facebook.fresco:animated-base-support:1.10.0'</span>
 <span class="token comment">// 如果你需要支持GIF动图</span>
 compile <span class="token string">'com.facebook.fresco:animated-gif:1.10.0'</span>
 <span class="token comment">// 如果你需要支持WebP格式，包括WebP动图</span>
 compile <span class="token string">'com.facebook.fresco:animated-webp:1.10.0'</span>
 compile <span class="token string">'com.facebook.fresco:webpsupport:1.10.0'</span>
 <span class="token comment">// 如果只需要支持WebP格式而不需要动图</span>
 compile <span class="token string">'com.facebook.fresco:webpsupport:1.10.0'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="safeareaview"><a href="#safeareaview" class="header-anchor">#</a> SafeAreaView</h3> <p>SafeAreaView 的目的是在⼀个“安全”的可视区域内渲染内容。具体来说就是因为目前有 iPhone X 这样的带有“刘海”的全面屏设备，所以需要避免内容渲染到不可见的“刘海”范围内。本组件目前仅支持 iOS 设备以及 iOS 11 或更高版本。</p> <p>SafeAreaView 会自动根据系统的各种导航栏、工具栏等预留出空间来渲染内部内容。更重要的是，它还会考虑到设备屏幕的局限，比如屏幕四周的圆⻆或是顶部中间不可显示的“刘海”区域。</p> <h3 id="text"><a href="#text" class="header-anchor">#</a> Text</h3> <p>⼀个用于显示文本的React组件，并且它也支持嵌套、样式，以及触摸处理，在Text内部的元素不再使用flflexbox布局，而是采用文本布局。这意味着 <Text> 内部的元素不再是⼀个个矩形，而可能会在行末进行折叠</Text></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span>Text
ellipsizeMode<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;tail&quot;</span><span class="token punctuation">}</span> <span class="token comment">//这个属性通常和下面的 numberOfLines 属性配合使用,文本超出numberOfLines设定的行数时，截取方式：head- 从文本内容头部截取显示省略号。例如：&quot;...efg&quot;，middle - 在文本内容中间截取显示省略号。例如： &quot;ab...yz&quot;，tail - 从文本内容尾部截取显示省略号。例如： &quot;abcd...&quot;，clip - 不显示省略号，直接从尾部截断。</span>
numberOfLines<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment">//配合ellipsizeMode设置行数</span>
onPress<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//点击事件</span>
selectable<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token comment">//决定用户是否可以⻓按选择文本，以便复制和粘贴。</span>
<span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="textinput"><a href="#textinput" class="header-anchor">#</a> TextInput</h3> <p>是⼀个允许用户在应用中通过键盘输入文本的基本组件。本组件的属性提供了多种特性的配置，譬如自动完成、自动大小写、占位文字，以及多种不同的键盘类型（如纯数字键 盘）,TextInput 在安卓上默认有⼀个底边框，同时会有⼀些padding。如果要想使其看起来和iOS上尽量⼀致，则需要设置 padding: 0</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span>TextInput
 style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
 width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
 height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
 borderWidth<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
 borderColor<span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
 keyboardType<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">}</span> <span class="token comment">//决定弹出何种软键盘类型，譬如numeric（纯数字键盘),default,number-pad,decimal-pad,numeric,email-address,phone-pad</span>
 maxLength<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token comment">//限制文本框中最多的字符数。使用这个属性而不用JS逻辑去实现，可以避免闪烁的现象。</span>
 editable<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">//如果为false，文本框是不可编辑的。默认值为true。</span>
 defaultValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">}</span> <span class="token comment">//提供⼀个文本框中的初始值</span>
 caretHidden<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">//如果为true，则隐藏光标。默认值为false。</span>
 autoCapitalize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">}</span> <span class="token comment">//控制TextInput是否要自动将特定字符切换为大写:characters:所有的字符,words: 每个单词的第⼀个字符,sentences: 每句话的第⼀个字符（默认）,none: 不切换。</span>
 <span class="token comment">//当文本框内容变化时调用此回调函数。改变后的文字内容会作为参数传递。从TextInput里取值这就是目前唯⼀的做法！</span>
 onChangeText<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     	text<span class="token operator">:</span> text
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
 <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="view"><a href="#view" class="header-anchor">#</a> View</h3> <p>类似于html中的div，容器组件，可以使用[,]的形式返回多个兄弟组件</p> <h3 id="webview"><a href="#webview" class="header-anchor">#</a> WebView</h3> <p>WebView 创建⼀个原生的 WebView，可以用于访问⼀个网页。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">MyWeb</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
 <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">WebView</span></span>
         <span class="token attr-name">source</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>uri<span class="token operator">:</span> <span class="token string">'https://github.com/facebook/react-native'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
         <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>marginTop<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
         <span class="token punctuation">/&gt;</span></span>
     <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div><blockquote><p>注意：新版的RN已经用react-naitve-webView替代RN原生Core中的WebView</p></blockquote> <p>使用方法：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">yarn</span> <span class="token function">add</span> react-native-webview
react-native <span class="token function">link</span> react-native-webview
</code></pre></div><p>使用的时候</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> WebView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-native-webview&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="listview"><a href="#listview" class="header-anchor">#</a> ListView</h3> <p>经常使用ListView的同学都知道，这个组件的性能比较差，尤其是当有大量的数据需要展示的时候，ListView对内存的占用较多，常出现丢帧卡顿现象</p> <p>ListView底层实现，渲染组件Item是全量渲染，而且没有复用机制，这就不可避免的当渲染较大数据量时，会发现以下情况：</p> <ul><li>第⼀次打开与切换Tab时会出现卡顿或⽩屏的情况，比如ListView中有100个Item，只能等这100条Item都渲染完成，ListView中的内容才会展示</li> <li>滑动列表时会出现卡顿不跟手，listVIew渲染大量数据，需要占用较多的内存用于计算</li></ul> <p><strong>未来有很大可能性会被移除</strong></p> <h3 id="virtualizedlist"><a href="#virtualizedlist" class="header-anchor">#</a> VirtualizedList</h3> <p><a href="https://reactnative.cn/docs/flatlist" target="_blank" rel="noopener noreferrer">FlatList<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://reactnative.cn/docs/sectionlist" target="_blank" rel="noopener noreferrer">SectionList<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的底层实现，VirtualizedList通过维护⼀个有限的渲染窗口(其中包含可见的元素)，并将渲染窗口之外的元素全部用合适的定⻓空⽩空间代替的方 式，极大的改善了内存使用，提高了大量数据情况下的渲染性能。这个渲染窗口能响应滚动行为，元素离可视区越远优先级越低，越近优先级越高，当用户滑动速度过快时，会出现短暂空⽩的情况。</p> <h3 id="flatlist"><a href="#flatlist" class="header-anchor">#</a> FlatList</h3> <p>在RN0.43版本中引入了FlatList，SectionList与VirtualizedList，其中VirtualizedList是FlatList和SectionList的底层实现。</p> <p>缺点：（1）为了优化内存占用同时保持滑动的流畅，列表内容会在屏幕外异步绘制。这意味着如果用户滑动的速度超过渲染的速度，则会先看到空⽩的内容。（2）不支持分组列表</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FlatList</span></span>
<span class="token attr-name">data</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">{</span>key<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>key<span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
<span class="token attr-name">renderItem</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>可以看出跟之前的ListView很像，但是其中少了dataSource，这里，我们只需要传递数据，其它的都交给FlatList处理好了。</p> <p><strong>RefreshControl</strong> ：这⼀组件可以用在ScrollView或FlatList内部，为其添加下拉刷新的功能。当ScrollView处于竖直方向的起点位置（scrollY: 0），此时下拉会触发⼀个 onRefresh 事件</p> <p><strong>SwipeableFlatList</strong> ：侧滑效果列表组件，在RN0.50版本中引入了SwipeableFlatList，官方文档 还没有这个介绍</p> <p><strong>SectionList</strong>：高性能的分组列表组件</p> <p>缺点：同样会有空⽩内容的情况</p> <h2 id="常用api介绍"><a href="#常用api介绍" class="header-anchor">#</a> 常用API介绍</h2> <h3 id="dimensions"><a href="#dimensions" class="header-anchor">#</a> Dimensions</h3> <p>用于获取设备屏幕的宽高</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>height<span class="token punctuation">,</span> width<span class="token punctuation">}</span> <span class="token operator">=</span> Dimensions<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'window'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="platform"><a href="#platform" class="header-anchor">#</a> Platform</h3> <p>平台API判断</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Platform<span class="token punctuation">,</span> StyleSheet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-native&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 height<span class="token operator">:</span> Platform<span class="token punctuation">.</span><span class="token constant">OS</span> <span class="token operator">===</span> <span class="token string">&quot;ios&quot;</span> <span class="token operator">?</span> <span class="token number">200</span> <span class="token operator">:</span> <span class="token number">100</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Platform.select()，以Platform.OS为 key，从传入的对象中返回对应平台的值：</span>
<span class="token keyword">const</span> Component <span class="token operator">=</span> Platform<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 <span class="token function-variable function">ios</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ComponentIOS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token function-variable function">android</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ComponentAndroid&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 检测Adr版本</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>Version <span class="token operator">===</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Running on Nougat!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 检测iOS版本</span>
<span class="token keyword">const</span> majorVersionIOS <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>Version<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>majorVersionIOS <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Work around a change in behavior&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 当不同平台代码逻辑较为复杂时，可以使用平台扩展名</span>
BigButton<span class="token punctuation">.</span>ios<span class="token punctuation">.</span>js
BigButton<span class="token punctuation">.</span>android<span class="token punctuation">.</span>js
<span class="token keyword">const</span> BigButton <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./BigButton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/17/2021, 5:53:32 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Zachary/assets/js/app.f1e82e99.js" defer></script><script src="/Zachary/assets/js/2.e55477fd.js" defer></script><script src="/Zachary/assets/js/11.47e52921.js" defer></script>
  </body>
</html>
